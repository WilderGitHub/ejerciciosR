cb <- 10
cb
2+2
pacman::p_load(pacman,party,rio,tidyverse)
#install("ggstream")
install.packages("ggstream")
library(ggstream)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Chile")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#Las librerias de rigor
pacman::p_load(pacman,party,rio,tidyverse)
#install("ggstream")
install.packages("ggstream")
install.packages("ggstream")
library(ggstream)
#install("ggstream")
install.packages("ggstream")
install.packages("ggstream")
setwd("C:/Users/rserdan/Desktop/Tesis/R/delGit")
#Las librerias de rigor
pacman::p_load(pacman,party,rio,tidyverse)
#install("ggstream")
install.packages("ggstream")
install.packages("ggstream")
library(ggstream)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedorPrivado<-df%>%
filter(Acreedor=="Chile")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedorPrivado, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
View(dfacreedorPrivado)
View(dfacreedorPrivado)
#Las librerias de rigor
pacman::p_load(pacman,party,rio,tidyverse)
#install("ggstream")
install.packages("ggstream")
install.packages("ggstream")
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
library(ggstream)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Las librerias de rigor
pacman::p_load(pacman,party,rio,tidyverse)
#install("ggstream")
install.packages("ggstream")
install.packages("ggstream")
library(ggstream)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedorPrivado<-df%>%
filter(Acreedor=="Chile")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedorPrivado, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
View(dfacreedorPrivado)
View(dfacreedorPrivado)
View(df)
View(df)
#2. agregado por acreedor  ======================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df#%>%
#  filter(Acreedor=="CAF"|Acreedor=="BID"|Acreedor=="PRIV"|Acreedor=="China"|Acreedor=="IDA"|Acreedor=="PDVSA"|
#Acreedor=="FONPLATA"|Acreedor=="AFD"|Acreedor=="BIRF"|Acreedor=="OPEP"|Acreedor=="PROEX BRASIL"|Acreedor=="FIDA")
TotalAcreedores <-aggregate(Valor ~ Periodo+Acreedor, data = dfacreedor, FUN = sum, na.rm = TRUE)
#definimos los colores
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(TotalAcreedores, aes(x = Periodo, y = Valor, fill = Acreedor)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Flujos de deuda por pais",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
do un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Chile")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
# + geom_stream_l
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Otrose")
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Otros")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
View(dfacreedor)
View(dfacreedor)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el acreedor y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Otros")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#2. agregado por acreedor  ======================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df#%>%
#  filter(Acreedor=="CAF"|Acreedor=="BID"|Acreedor=="PRIV"|Acreedor=="China"|Acreedor=="IDA"|Acreedor=="PDVSA"|
#Acreedor=="FONPLATA"|Acreedor=="AFD"|Acreedor=="BIRF"|Acreedor=="OPEP"|Acreedor=="PROEX BRASIL"|Acreedor=="FIDA")
TotalAcreedores <-aggregate(Valor ~ Periodo+Acreedor, data = dfacreedor, FUN = sum, na.rm = TRUE)
#definimos los colores
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(TotalAcreedores, aes(x = Periodo, y = Valor, fill = Acreedor)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Flujos de deuda por pais",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el acreedor y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Otros")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
View(dfacreedor)
View(dfacreedor)
#1. por Sector dado un pais===============================================
#Las librerias de rigor
pacman::p_load(pacman,party,rio,tidyverse)
library(ggstream)
#importamos los datos oe
df<-import("IEDorigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais=="Estados Unidos" & Sector!="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
pacman::p_load(pacman,party,rio,tidyverse)
#install("ggstream")
install.packages("ggstream")
library(ggstream)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="IDA")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de España",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
install.packages("ggstream")
df<-import("DeudaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df#%>%
#  filter(Acreedor=="CAF"|Acreedor=="BID"|Acreedor=="PRIV"|Acreedor=="China"|Acreedor=="IDA"|Acreedor=="PDVSA"|
#Acreedor=="FONPLATA"|Acreedor=="AFD"|Acreedor=="BIRF"|Acreedor=="OPEP"|Acreedor=="PROEX BRASIL"|Acreedor=="FIDA")
TotalAcreedores <-aggregate(Valor ~ Periodo+Acreedor, data = dfacreedor, FUN = sum, na.rm = TRUE)
#definimos los colores
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(TotalAcreedores, aes(x = Periodo, y = Valor, fill = Acreedor)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Flujos de deuda por pais",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el acreedor y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Otros")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
View(dfacreedorPrivado)
View(dfacreedor)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el acreedor y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Otros")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df#%>%
#  filter(Acreedor=="CAF"|Acreedor=="BID"|Acreedor=="PRIV"|Acreedor=="China"|Acreedor=="IDA"|Acreedor=="PDVSA"|
#Acreedor=="FONPLATA"|Acreedor=="AFD"|Acreedor=="BIRF"|Acreedor=="OPEP"|Acreedor=="PROEX BRASIL"|Acreedor=="FIDA")
TotalAcreedores <-aggregate(Valor ~ Periodo+Acreedor, data = dfacreedor, FUN = sum, na.rm = TRUE)
#definimos los colores
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(TotalAcreedores, aes(x = Periodo, y = Valor, fill = Acreedor)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Flujos de deuda por pais",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#+ geom_stream_label(aes(label = Acreedor))
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el acreedor y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Chile")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
View(dfacreedor)
View(dfacreedor)
df<-import("DeudaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="IDA")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de España",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
View(dfacreedor)
View(dfacreedor)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="IDA")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de España",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#2. agregado por acreedor  ======================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el acreedor y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Chile")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#Filtramos el acreedor y botamos otros que se estaba repitiendo
dfacreedor<-df#%>%
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#Filtramos el acreedor y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Chile")
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#2. agregado por acreedor  ======================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df#%>%
#  filter(Acreedor=="CAF"|Acreedor=="BID"|Acreedor=="PRIV"|Acreedor=="China"|Acreedor=="IDA"|Acreedor=="PDVSA"|
#Acreedor=="FONPLATA"|Acreedor=="AFD"|Acreedor=="BIRF"|Acreedor=="OPEP"|Acreedor=="PROEX BRASIL"|Acreedor=="FIDA")
TotalAcreedores <-aggregate(Valor ~ Periodo+Acreedor, data = dfacreedor, FUN = sum, na.rm = TRUE)
#definimos los colores
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(TotalAcreedores, aes(x = Periodo, y = Valor, fill = Acreedor)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Flujos de deuda por pais",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#1. por sector dado un Acreedor===============================================
#importamos los datos oe
df<-import("DeudaPrivadaOrigen.xlsx") %>% as_tibble()
#Filtramos el acreedor y botamos otros que se estaba repitiendo
dfacreedor<-df%>%
filter(Acreedor=="Suiza")
View(dfacreedor)
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(dfacreedor, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Desembolsos de Chile",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
View(dfacreedor)
