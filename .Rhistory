scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Paies!="Brasil")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#importamos los datos oe
df<-import("IEDorigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Paies!="Brasil")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais!="Brasil")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
View(dfpais)
View(dfpais)
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais!="Argentina")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais=="Argentina")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
View(df)
View(df)
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais=="China")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais=="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df#%>%
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais=="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais!="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais!="Brasil")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector!="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
View(dfpais)
View(dfpais)
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais=="Brasil")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
View(dfpais)
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais!="Brasil")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais=="Brasil")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais=="Brasil")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="Miner√≠a")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector!="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector!="Otros" & Pais!="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector!="Otros" & Pais!="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector!="Otros")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector!="Agricultura")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="Agricultura")
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="TranspComunic"|Sector=="Otros" )
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="TranspComunic" | Sector=="Otros" )
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="Otros" )
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#importamos los datos oe
df<-import("IEDorigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="Otros" )
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#importamos los datos oe
df<-import("IEDorigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="Comercio" )
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
df<-import("IEDorigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df#%>%
#filter(Sector=="Comercio" )
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
df<-import("IEDorigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="Comercio" )
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
por sector dado un Acreedor=====================================
#Filtramos el pais y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="Comercio" )
#definimos los colores
#cols <- c("#264653","#A69B4E",'#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
df<-import("IEDorigen.xlsx") %>% as_tibble()
#Filtramos el sector y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Pais=="Brasil" )
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
df<-import("IEDorigen.xlsx") %>% as_tibble()
#Filtramos el sector y botamos otros que se estaba repitiendo
dfpais<-df%>%
filter(Sector=="Comercio" )
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
df<-import("DeudaOrigen.xlsx") %>% as_tibble()
#Filtramos el pais y botamos otros que se estaba repitiendo
dfacreedor<-df#%>%
#  filter(Acreedor=="CAF"|Acreedor=="BID"|Acreedor=="PRIV"|Acreedor=="China"|Acreedor=="IDA"|Acreedor=="PDVSA"|
#Acreedor=="FONPLATA"|Acreedor=="AFD"|Acreedor=="BIRF"|Acreedor=="OPEP"|Acreedor=="PROEX BRASIL"|Acreedor=="FIDA")
TotalAcreedores <-aggregate(Valor ~ Periodo+Acreedor, data = dfacreedor, FUN = sum, na.rm = TRUE)
#definimos los colores
#cols <- c('#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd')
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
#OJO ESTE PERIODO DEBE SER CONTINUO OE, ESO ESTABA ARRUINANDO
ggplot(TotalAcreedores, aes(x = Periodo, y = Valor, fill = Acreedor)) +
geom_stream() +
scale_fill_manual(values = cols)+
labs(title = "Flujos de deuda por pais",
subtitle = "(En millones de $us)",
caption  = "Fuente: BCB"
)
#+ geom_stream_label(aes(label = Acreedor))
View(TotalAcreedores)
View(TotalAcreedores)
View(TotalAcreedores)
#importamos los datos oe
df<-import("IEDorigen.xlsx") %>% as_tibble()
# Agregamos los sectores
dfpais<-df
TotalInversores <-aggregate(Valor ~ Periodo+Pais, data = dfacreedor, FUN = sum, na.rm = TRUE)
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(dfpais, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
#dibujamos el streamgraph
ggplot(TotalInversores, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
df<-import("IEDorigen.xlsx") %>% as_tibble()
# Agregamos los sectores
dfpais<-df
TotalInversores <-aggregate(Valor ~ Periodo+Pais, data = dfacreedor, FUN = sum, na.rm = TRUE)
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(TotalInversores, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
# Agregamos los sectores
TotalInversores <-aggregate(Valor ~ Periodo+Pais, data = df, FUN = sum, na.rm = TRUE)
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(TotalInversores, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
View(TotalInversores)
View(dfpais)
# Agregamos los sectores
TotalInversores <-aggregate(Valor ~ Periodo+Sector, data = df, FUN = sum, na.rm = TRUE)
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(TotalInversores, aes(x = Periodo, y = Valor, fill = Sector)) +
geom_stream() +
scale_fill_manual(values = cols)#+
df<-import("IEDorigen.xlsx") %>% as_tibble()
# Agregamos los sectores
TotalSectores <-aggregate(Valor ~ Periodo+Pais, data = df, FUN = sum, na.rm = TRUE)
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(TotalInversores, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
View(TotalSectores)
View(TotalSectores)
#  4. por pais de todos los sectores====================================
#importamos los datos oe
df<-import("IEDorigen.xlsx") %>% as_tibble()
# Agregamos los sectores
TotalSectores <-aggregate(Valor ~ Periodo+Pais, data = df, FUN = sum, na.rm = TRUE)
#definimos los colores
cols <- c("#875B52","#E76F51", "#8FA078", "#228176", "#E9C46A", "#59804D", "#F4A261", "#264653", "#BB8865", "#A69B4E", "#65453E", "#E24D28", "#73835D", "#11403B", "#A07918", "#354D2E", "#EF7A1A", "#47829A", "#8E5E3E", "#6F6734", "#902C14", "#3F4833", "#7EDDD3", "#864109", "#274754")
#dibujamos el streamgraph
ggplot(TotalInversores, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
View(TotalSectores)
View(TotalSectores)
View(TotalSectores)
#dibujamos el streamgraph
ggplot(TotalSectores, aes(x = Periodo, y = Valor, fill = Pais)) +
geom_stream() +
scale_fill_manual(values = cols)#+
pacman::p_load(pacman,party,rio,tidyverse)
install.packages("GGally")
library(GGally)
#Importamos el excel
BDsectores<-import("CorrelacionesSectores.xlsx")%>% as_tibble
head(BDsectores)
BDtotales<-import("CorrelacionesTotales.xlsx")%>% as_tibble
head(BDtotales)
#Filtramos
BDfiltrado<-BDsectores%>%
#filter(Sector=="Hidrocarburos")
############FILTROS PARA QUE SALGA BONITO
filter(Sector=="Hidrocarburos" & Fecha !=as.Date("2008-03-01") &Fecha !=as.Date("2008-06-01")&Fecha !=as.Date("2020-06-01"))
#filter(Sector=="Comercio" & Fecha !=as.Date("2020-06-01"))
#filter(Sector=="Mineria" & Fecha !=as.Date("2014-12-01")& Fecha !=as.Date("2012-03-01"))
#filter(Sector=="IndManufac" & Fecha !=as.Date("2012-06-01")& Fecha !=as.Date("2011-03-01"))
#filter(Sector=="Agricultura" & Fecha !=as.Date("2007-09-01")& Fecha !=as.Date("2007-12-01")& Fecha !=as.Date("2007-03-01")& Fecha !=as.Date("2007-06-01"))
#filter(Sector=="Construccion" & Fecha !=as.Date("2015-09-01")& Fecha !=as.Date("2015-12-01"))
#filter(Sector=="TransComunic"& Fecha !=as.Date("2012-09-01"))
#head(BDfiltrado)
#Ponemos en formato para ggpairs
BDfiltradoWide<-BDfiltrado%>%
pivot_wider(names_from = Variable, values_from = Valor)
BDtotalesWide<-BDtotales%>%
pivot_wider(names_from = Variable, values_from = Valor)
#unimos los dos tibbles
combenado<- merge(BDfiltradoWide,BDtotalesWide,by=c("Fecha"))
#Ahora dibujamos
ggpairs(combenado,
columns=c("IED","OI","PIB","IEDTotal","OITotal","TotalGral","PIBTotal","InvPubTotal","CreditoTotal"),
aes(color=Sector,
alpha=.1))
#Filtramos
BDfiltrado<-BDsectores%>%
#filter(Sector=="Hidrocarburos")
############FILTROS PARA QUE SALGA BONITO
filter(Fecha !=as.Date("2008-03-01") &Fecha !=as.Date("2008-06-01")&Fecha !=as.Date("2020-06-01"))
#Ponemos en formato para ggpairs
BDfiltradoWide<-BDfiltrado%>%
pivot_wider(names_from = Variable, values_from = Valor)
BDtotalesWide<-BDtotales%>%
pivot_wider(names_from = Variable, values_from = Valor)
#unimos los dos tibbles
combenado<- merge(BDfiltradoWide,BDtotalesWide,by=c("Fecha"))
#Ahora dibujamos
ggpairs(combenado,
columns=c("IED","OI","PIB","IEDTotal","OITotal","TotalGral","PIBTotal","InvPubTotal","CreditoTotal"),
aes(color=Sector,
alpha=.1))
#Ahora dibujamos
ggpairs(combenado,
columns=c("IED","PIB","IEDTotal","TotalGral","PIBTotal","InvPubTotal","CreditoTotal"),
aes(color=Sector,
alpha=.1))
